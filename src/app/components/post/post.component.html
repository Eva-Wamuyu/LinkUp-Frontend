<ng-container *ngIf="post; else empty">
  <div class="m-container post-div pt-4 border-bottom">
  <div class="">
    <div class="flex justify-between font-bold">
      <div class="flex">
      <a [routerLink]="['/user', post.username]">
      <img class="default-icon mx-4" src="{{post.image_url_user}}" alt="">
      </a>
     <p class="ml-6">
      <a [routerLink]="['/user', post.username]">
      <b>{{post.username}}</b>
      </a>
      <br>
      <b>
      <span>
        {{post.created_at | date: 'short' :'+0300'}}
      </span>
      </b>
    </p>
    </div>
    <button class="border-red hover:bg-red-600 font-bold py-2 px-4 ml-4 rounded" (click)="deletePost(post.post_id)" *ngIf="canModify">
      Delete
    </button>
    </div>

    <a  *ngIf="useRouterLink" [routerLink]="['/post', post.post_id]">
      <div class="ml-12">
        <p class="w3-margin-top">
          {{post.content}}
        </p>
        <div *ngIf="post.image_url_post" class="img-container">
        <img class="post-img" src="{{post.image_url_post}}" alt="">
        </div>
      </div>
    </a>
    <div class="ml-12" *ngIf="!useRouterLink">
      <p class="w3-margin-top">
        {{post.content}}
      </p>
      <div *ngIf="post.image_url_post" class="img-container"></div>
      <img class="post-img" src="{{post.image_url_post}}" alt="">
    </div>
    </div>
    <div class="d-flex flex-left my-6  ml-16 w-3/4 mx-auto">
      <p class="flex">
        <svg *ngIf="post.has_liked" (click)="likeFunc(post.post_id)"
        xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="red" d="M15 20H9v-8H4.16L12 4.16L19.84 12H15v8Z"/></svg>
        <svg *ngIf="!post.has_liked" (click)="likeFunc(post.post_id)"
        xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M15 20H9v-8H4.16L12 4.16L19.84 12H15v8Z"/></svg>
        <span>
          {{post.num_likes}}
        </span>
      </p>
      <a *ngIf="useRouterLink" [routerLink]="['/post', post.post_id]">
      <p class="flex">
        <svg
         xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path fill="currentColor" d="M1.5 0C.671 0 0 .67 0 1.5v8.993c0 .83.671 1.5 1.5 1.5h3.732l1.852 2.775a.5.5 0 0 0 .832 0l1.851-2.775H13.5c.829 0 1.5-.67 1.5-1.5V1.5c0-.83-.671-1.5-1.5-1.5h-12Z"/></svg>
        <span>
          {{post.num_comments}}
        </span>
      </p>
      </a>
      <div *ngIf="!useRouterLink">
        <p class="flex">
          <svg
           xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path fill="currentColor" d="M1.5 0C.671 0 0 .67 0 1.5v8.993c0 .83.671 1.5 1.5 1.5h3.732l1.852 2.775a.5.5 0 0 0 .832 0l1.851-2.775H13.5c.829 0 1.5-.67 1.5-1.5V1.5c0-.83-.671-1.5-1.5-1.5h-12Z"/></svg>
          <span>
            {{post.num_comments}}
          </span>
        </p>
      </div>
      <button>
        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 256 256"><path fill="currentColor" d="m232.49 112.49l-48 48a12 12 0 0 1-17-17L195 116h-30a84 84 0 0 0-81.36 63a12 12 0 1 1-23.24-6A107.94 107.94 0 0 1 165 92h30l-27.49-27.52a12 12 0 0 1 17-17l48 48a12 12 0 0 1-.02 17.01ZM192 204H44V88a12 12 0 0 0-24 0v120a20 20 0 0 0 20 20h152a12 12 0 0 0 0-24Z"/></svg>
      </button>
    </div>



      <div  *ngIf="showDialog" class="dialog bg-white w-64 mx-auto p-4 rounded-lg shadow-lg">
        <p *ngIf="message; else info" class="text-center">
         {{message}}
        </p>
        <ng-template #info>
        <p class="text-lg text-center mb-4 text-color">Delete this post?</p>
        <div class="flex justify-center">
          <button (click)="handleSelection(false)" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded">
            No
          </button>
          <button (click)="handleSelection(true)"  class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 ml-4 rounded">
            Yes
          </button>
        </div>
        </ng-template>
      </div>

    <div class=""></div>

    <div class="backdrop" (click)="showDialog = false" *ngIf="showDialog"></div>
</div>
</ng-container>
<ng-template #empty>
<div class="flex text-center template align-center mt-8 justify-center flex-col p-8 text-color">
       <p>
        it looks like this post has wandered away or something went wrong.
       </p>
</div>

